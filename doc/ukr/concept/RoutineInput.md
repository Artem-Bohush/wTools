# Масив аргументів

Це сукупність параметрів рутини, котрі сформовано в псевдомасив <code>arguments</code>.

В JavaScript усі передані у функцію аргументи записуються у псевдомасив `arguments`, який є значенням властивості 
`arguments` цієї функції.
Псевдомасив - це об'єкт, який структурно подібний до масиву. Тобто ключем властивості у нього виступає число(індекс).
Також у нього є властивість `lenght`. Проте Array не є його функцією констуктором. А значить у псевдомасива немає
методів месиву, таких як `indexOf`, `join`, `map` та ін.
```js
{ 0 : 'value 1', 1 : 'value 2', 2 : 'value 3', length : 3 }
```

За необхідності, із псевдомасиву `arguments` можна створити спражній масив:
```js
  function foo()
  {
    console.log( arguments instanceof Array );
    const argumentsArr = Array.from( arguments );
    console.log( argumentsArr instanceof Array );
  }
  foo( 'hello', 'world' );
  // false
  // true
```

Кожну рутину в `JavaScript` можна викликати з необмеженою кількістю аргументів. 
До аргументів, оголошених в параметрах рутини можна звернутись за іменем і за порядковим індексом в `arguments`. 
До аргументів, що не оголошені в параметрах рутини - тільки за індексом.
```js
function logMsgs( msg1, msg2 )
{
  if( msg1 && !msg2 )
  console.log( msg1 );
  if( !msg1 && msg2 )
  console.log( msg2, arguments[ 1 ] );  // two variants of calls of signed parameter
  if( arguments[ 2 ] )
  console.log( arguments[ 2 ] );
}

logMsgs( 'one' ); // returns one
logMsgs( null, 'two' ) // returns two two
logMsgs( null, undefined, 'three' ) // returns three
logMsgs( 'one', 'two', 'three', 'four', 'five' ) // returns three
```

Для коректної роботи рутини, аргументи повинні передаватись у правильній послідовності.
Це створює незручності для програміста, змушує щоразу дізнаватись(навіть запям'ятовувати) правильний
порядок аргументів для кожної рутини. Ця проблема вирішується нижче, з допомогою **мапи опцій**.

# Мапа опцій

Це контейнер, що призначений для передачі даних у рутину та управління її поведінкою.

Працювати із мапою опцій зручніше ніж із масивом аргументів, оскільки кожна із опцій має своє ім'я 
та їх послідовність може бути будь-якою.
```js
function someFunction1( optionsMap )
{
  if( optionsMap.option1 >= 0 )
  {
    console.log( 'option1' );
    // some code
  }

  if( optionsMap.option2 < 0 )
  {
    console.log( 'option2' );
    // some code
  }
}
bar( { option1 : 1, option2 : 2 } ); // logs option1
```
В приведеному вище спрощеному прикладі рутина `someFunction1` приймає як аргумент мапу опцій. Цей спосіб передачі вхідних даних 
має переваги в порівнянні з масивом аргументів:
- послідовність опцій може бути будь-якою, це не впливає на коректність виконання коду рутини;
- можливість використання мапи опцій, що згенеровані іншими рутинами;
- можливість перевірки коректності значень мапи опцій при її створенні, до виконання рутини;
- можливість створення нових рутин перевикористанням коду початкової рутини.\
Для цього необхідно створити нову рутину з викликом у ній першої, якій передати вхідну мапу опцій(змінивши її або ж без змін):
```js
function someFunction2( mapOptions )
{
  let result = someFunction( mapOptions );
  // some code
}
```

# Мапа дефолтних значень

<!--  -->




<!--  ### Підсумок

- Кожна рутина має масив ([псевдомасив](#Масив-аргументів)) аргументів `arguments`.
- Доступ до елементів псевдомасиву `arguments` здійснюється за індексом, як в звичайних масивах.
- При використанні масиву аргументів передача аргументів має йти у визначеній послідовності, це може ускладнити роботу програміста пошуком цієї послідовності.
- Використання масиву аргументів в рутинах ускладнює передачу значень за замовчуванням.
- Мапа опцій зручніша в використанні, оскільки доступ до опцій здійснюється за іменем і порядок опцій не має значення.
- Мапа опцій за замовчуванням дозволяє зберігати налаштування рутини в одному місці.
- Мапа опцій дозволяє перевикористати код рутини змінивши налаштування за замовчуванням.
- Мапа опцій може генеруватись іншими рутинами.
- На етапі створення мапи опцій, інші рутини можуть виконати перевірку коректності даних.
- Комбінування мапи опцій за замовчуванням і переданої ззовні дозволяє легко змінювати поведінку рутини. -->



[Повернутись до змісту](../README.md#Концепції)

